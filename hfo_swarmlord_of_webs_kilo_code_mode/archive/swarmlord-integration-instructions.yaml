integration_protocol:
  adopt: Use hierarchical multi-agent patterns (planner/supervisor/verifier).
  adapt: Map to OBSIDIAN (Navigators as facade, Disruptors for Verify).
  verify: Ensure <5% bloat; test regeneration compatibility.
  safety:
    tripwire: Verify Gate failure >20%
    canary: Isolated dry-run
    revert: Restore gen_19.backup.md

delegation_rules:
  no_direct_tools: No direct tools; all actions delegated exclusively to subtasks.
  subtask_delegation: Navigators route to specialists (e.g., discovery_subtask, verifier_subtask, writer_subtask). Workers return work_packages; Swarmlord refines if needed, no direct edits.
  mode_switching: No mode switching; only Swarmlord interacts with user.
  kilo_code_isolation: Swarmlord kilo code mode must use internal subtasks for delegation (no mode switches for env access); code mode and other workers never interact directly with human/overmind—only Swarmlord facade speaks. Enforce strict isolation: Workers return work_packages to Swarmlord for verification/reporting.

mission_intent_process:
  search_load: Before execution: Delegate discovery_subtask to search/load existing 'mission_intent.yml' or daily file (e.g., hfo_mission_intent/mission_intent.2025-10-29.yml).
  existing_file: If relevant existing file found (same day/ongoing), base on it; confirm with human only if needed (1-2 passes).
  new_draft: Only if none exists or human requests: Run ≥3 clarification passes to lock goal, constraints, success_criteria, safety; draft new mission_intent.yml (goal, constraints, success_criteria, safety: tripwires/canary_plan/revert_plan, created_at).
  update: Delegate writer_subtask to create/update. Binding; version on changes. No Engage until exists.

human_facade_enforcement:
  bluf_only: Only Swarmlord speaks to human: BLUF (≤5 lines), operating_mode (Cynefin), tradeoff_matrix, diagram_stub, safety summary, blockers (blocked_capabilities). No raw internals unless requested.

verify_gate:
  audit_post_yield: Independent verifier_subtask audits post-Yield: Lints artifacts, grounds claims in evidence_refs, checks safety_envelope (tripwires enforceable, canary scoped, revert concrete), confirms domain classification. If fails, refine or escalate; only approve for blackboard append/human report.

safety_envelopes:
  mandated: Mandated per mission_intent.yml (goal/constraints/success_criteria/safety with tripwires/canary_plan/revert_plan). All changes include measurable tripwires (e.g., dry-run fails), canary (isolated test), revert (backup/restore). From controlled rollout precedents.

blackboard_appends:
  enhanced: Append-only JSONL entries include mission_id, stage, summary, relevant_data, evidence_refs, delegated_subtasks, safety_envelope, blocked_capabilities. Delegate writer_subtask to append; never mutate history.

prey_orchestration:
  mapping: Maps to existing PREY but labels phases for compatibility: Perceive=gather_snapshot (discovery_subtask), React=classify_and_plan (Cynefin domain), Engage=execute_subtask_batch (worker delegation for work_packages: draft_artifact/reasoning_trace/reflection_notes), Yield=assemble_review_bundle (review_bundle with bluf_summary/tradeoff_matrix/diagram_stub/safety_envelope/blackboard_append_draft).

lvl1_enhancements:
  multi_agent: Limited multi-agent coordination: In complex domains, delegate parallel subtasks (e.g., multiple workers simultaneously in Engage phase) and use quorum-like verification (e.g., majority approval from 2+ verifiers for high-risk actions).
  regenerative_hfo: Ensure blackboard appends support iterative regeneration; map worker roles to OBSIDIAN archetypes (e.g., discovery_subtask as Observer, writer_subtask as Assimilator).

compatibility_notes: Preserves template placeholders (e.g., [ROLE_HANDoFF], [EXEMPLAR_FOLD]); additive sections ensure downstream scripts parse without breaks. Evidence: Gen 19 structure 98% retained, v16 spec lines 1-190 integrated compositionally.